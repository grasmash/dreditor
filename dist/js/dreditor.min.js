/*! * Dreditor v2.0.0 (https://dreditor.org) * Copyright (c) 2016 Mark Carver (https://www.drupal.org/u/markcarver) * Licensed under MIT (https://github.com/unicorn-fail/dreditor/blob/2.x/LICENSE-MIT) */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Dreditor=a()}}(function(){function a(a){return a&&a.__esModule?a:{default:a}}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function d(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){function c(a){for(var b=[],c=0;c<a.length;c++)b.indexOf(a[c])===-1&&b.push(a[c]);return b}function d(a){var b=new Set;return a.filter(function(a){return!b.has(a)&&(b.add(a),!0)})}function e(a){var b=[];return new Set(a).forEach(function(a){b.push(a)}),b}function f(){var a=!1;return new Set([!0]).forEach(function(b){a=b}),a===!0}"Set"in a?"function"==typeof Set.prototype.forEach&&f()?b.exports=e:b.exports=d:b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===e.call(a)},g=function(a){if(!a||"[object Object]"!==e.call(a))return!1;var b=d.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return"undefined"==typeof f||d.call(a,f)};b.exports=function a(){var b,c,d,e,h,i,j=arguments[0],k=1,l=arguments.length,m=!1;for("boolean"==typeof j?(m=j,j=arguments[1]||{},k=2):("object"!=typeof j&&"function"!=typeof j||null==j)&&(j={});k<l;++k)if(b=arguments[k],null!=b)for(c in b)d=j[c],e=b[c],j!==e&&(m&&e&&(g(e)||(h=f(e)))?(h?(h=!1,i=d&&f(d)?d:[]):i=d&&g(d)?d:{},j[c]=a(m,i,e)):"undefined"!=typeof e&&(j[c]=e));return j}},{}],3:[function(a,b,c){b.exports={parse:a("./lib/parse"),stringify:a("./lib/stringify")}},{"./lib/parse":5,"./lib/stringify":6}],4:[function(a,b,c){var d=/([\w-]+)|(['"])(.*?)\2/g,e=a("void-elements");b.exports=function(a){var b,c=0,f={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return a.replace(d,function(a){c%2?b=a:0===c?(e[a]&&(f.voidElement=!0),f.name=a):f.attrs[b]=a.replace(/^['"]|['"]$/g,""),c++}),f}},{"void-elements":25}],5:[function(a,b,c){function d(a,b,c,d){var e=b.indexOf("<",c),f=b.slice(c,e===-1?void 0:e);d&&/^\s*$/.test(f)||a.push({type:"text",content:f})}var e=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,f=a("./parse-tag"),g=Object.create?Object.create(null):{};b.exports=function(a,b){b||(b={}),b.components||(b.components=g),void 0===b.ignoreWhitespace&&(b.ignoreWhitespace=!0);var c,h=[],i=-1,j=[],k={},l=!1;return a.replace(e,function(e,g){if(l){if(e!=="</"+c.name+">")return;l=!1}var m,n="/"!==e.charAt(1),o=0===e.indexOf("<!--"),p=g+e.length,q=a.charAt(p);n&&!o&&(i++,c=f(e),"tag"===c.type&&b.components[c.name]&&(c.type="component",l=!0),c.voidElement||l||!q||"<"===q||d(c.children,a,p,b.ignoreWhitespace),k[c.tagName]=c,0===i&&h.push(c),m=j[i-1],m&&m.children.push(c),j[i]=c),(o||!n||c.voidElement)&&(o||i--,!l&&"<"!==q&&q&&(m=i===-1?h:j[i].children,d(m,a,p,b.ignoreWhitespace)))}),!h.length&&a.length&&d(h,a,0,b.ignoreWhitespace),h}},{"./parse-tag":4}],6:[function(a,b,c){function d(a){var b=[];for(var c in a)b.push(c+'="'+a[c]+'"');return b.length?" "+b.join(" "):""}function e(a,b){switch(b.type){case"text":return a+b.content;case"tag":return a+="<"+b.name+(b.attrs?d(b.attrs):"")+(b.voidElement?"/>":">"),b.voidElement?a:a+b.children.reduce(e,"")+"</"+b.name+">"}}b.exports=function(a){return a.reduce(function(a,b){return a+e("",b)},"")}},{}],7:[function(a,b,c){var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],8:[function(a,b,c){var d="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",e="(?:(?:[0-9a-fA-F:]){1,4}(?:(?::(?:[0-9a-fA-F]){1,4}|:)){2,7})+",f=b.exports=function(a){return a=a||{},a.exact?new RegExp("(?:^"+d+"$)|(?:^"+e+"$)"):new RegExp("(?:"+d+")|(?:"+e+")","g")};f.v4=function(a){return a=a||{},a.exact?new RegExp("^"+d+"$"):new RegExp(d,"g")},f.v6=function(a){return a=a||{},a.exact?new RegExp("^"+e+"$"):new RegExp(e,"g")}},{}],9:[function(a,b,c){function d(a){var b=e.call(a);return"[object Function]"===b||"function"==typeof a&&"[object RegExp]"!==b||"undefined"!=typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}b.exports=d;var e=Object.prototype.toString},{}],10:[function(a,b,c){/*! * is-plain-object <https://github.com/jonschlinkert/is-plain-object> * * Copyright (c) 2014-2015, Jon Schlinkert. * Licensed under the MIT License. */
function d(a){return e(a)===!0&&"[object Object]"===Object.prototype.toString.call(a)}var e=a("isobject");b.exports=function(a){var b,c;return d(a)!==!1&&(b=a.constructor,"function"==typeof b&&(c=b.prototype,d(c)!==!1&&c.hasOwnProperty("isPrototypeOf")!==!1))}},{isobject:11}],11:[function(a,b,c){/*! * isobject <https://github.com/jonschlinkert/isobject> * * Copyright (c) 2014-2015, Jon Schlinkert. * Licensed under the MIT License. */
b.exports=function(a){return null!=a&&"object"==typeof a&&!Array.isArray(a)}},{}],12:[function(a,b,c){var d=void 0;b.exports=function(a){return a===d}},{}],13:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],14:[function(a,b,c){/*! * isobject <https://github.com/jonschlinkert/isobject> * * Copyright (c) 2014-2015, Jon Schlinkert. * Licensed under the MIT License. */
var d=a("isarray");b.exports=function(a){return null!=a&&"object"==typeof a&&d(a)===!1}},{isarray:13}],15:[function(a,b,c){b.exports.param=a("./lib/param.js").param,b.exports.deparam=a("./lib/deparam.js").deparam},{"./lib/deparam.js":16,"./lib/param.js":17}],16:[function(a,b,c){c.deparam=function(a,b){function c(a){var b="";try{b=decodeURIComponent(a)}catch(c){b=unescape(a)}return b}var d={},e={true:!0,false:!1,null:null};return"string"!=typeof a?d:("undefined"==typeof b&&(b=!0),a.replace(/\+/g," ").split("&").forEach(function(a){var f,g=a.split("="),h=c(g[0]),i=d,j=0,k=h.split("]["),l=k.length-1;if(/\[/.test(k[0])&&/\]$/.test(k[l])?(k[l]=k[l].replace(/\]$/,""),k=k.shift().split("[").concat(k),l=k.length-1):l=0,2===g.length)if(f=c(g[1]),b&&(f=f&&!isNaN(f)?+f:"undefined"===f?void 0:void 0!==e[f]?e[f]:f),l)for(;j<=l;j++)h=""===k[j]?i.length:k[j],i=i[h]=j<l?i[h]||(k[j+1]&&isNaN(k[j+1])?{}:[]):f;else Array.isArray(d[h])?d[h].push(f):void 0!==d[h]?d[h]=[d[h],f]:d[h]=f;else h&&(d[h]=b?void 0:"")}),d)}},{}],17:[function(a,b,c){b.exports.param=function(a){function b(a,b){b="function"==typeof b?b():null===b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)}function c(a,b,d){var e;if(Array.isArray(b))for(var f=0;f<b.length;f++)g.test(a)?d(a,b[f]):c(a+"["+("object"==typeof b[f]?f:"")+"]",b[f],d);else if("object"==typeof b)for(e in b)c(a+"["+e+"]",b[e],d);else d(a,b)}var d,e=[],f=/%20/g,g=/\[\]$/;for(d in a)c(d,a[d],b);return e.join("&").replace(f,"+")}},{}],18:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],19:[function(a,b,c){function d(){}function e(a){try{return a.then}catch(a){return q=a,r}}function f(a,b){try{return a(b)}catch(a){return q=a,r}}function g(a,b,c){try{a(b,c)}catch(a){return q=a,r}}function h(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,a!==d&&p(a,this)}function i(a,b,c){return new a.constructor(function(e,f){var g=new h(d);g.then(e,f),j(a,new o(b,c,g))})}function j(a,b){for(;3===a._81;)a=a._65;return h._10&&h._10(a),0===a._81?0===a._45?(a._45=1,void(a._54=b)):1===a._45?(a._45=2,void(a._54=[a._54,b])):void a._54.push(b):void k(a,b)}function k(a,b){setImmediate(function(){var c=1===a._81?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._81?l(b.promise,a._65):m(b.promise,a._65));var d=f(c,a._65);d===r?m(b.promise,q):l(b.promise,d)})}function l(a,b){if(b===a)return m(a,new TypeError("A promise cannot be resolved with itself."));if(b&&("object"==typeof b||"function"==typeof b)){var c=e(b);if(c===r)return m(a,q);if(c===a.then&&b instanceof h)return a._81=3,a._65=b,void n(a);if("function"==typeof c)return void p(c.bind(b),a)}a._81=1,a._65=b,n(a)}function m(a,b){a._81=2,a._65=b,h._97&&h._97(a,b),n(a)}function n(a){if(1===a._45&&(j(a,a._54),a._54=null),2===a._45){for(var b=0;b<a._54.length;b++)j(a,a._54[b]);a._54=null}}function o(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function p(a,b){var c=!1,d=g(a,function(a){c||(c=!0,l(b,a))},function(a){c||(c=!0,m(b,a))});c||d!==r||(c=!0,m(b,q))}var q=null,r={};b.exports=h,h._10=null,h._97=null,h._61=d,h.prototype.then=function(a,b){if(this.constructor!==h)return i(this,a,b);var c=new h(d);return j(this,new o(a,b,c)),c}},{}],20:[function(a,b,c){function d(a){var b=new e(e._61);return b._81=1,b._65=a,b}var e=a("./core.js");b.exports=e;var f=d(!0),g=d(!1),h=d(null),i=d(void 0),j=d(0),k=d("");e.resolve=function(a){if(a instanceof e)return a;if(null===a)return h;if(void 0===a)return i;if(a===!0)return f;if(a===!1)return g;if(0===a)return j;if(""===a)return k;if("object"==typeof a||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new e(b.bind(a))}catch(a){return new e(function(b,c){c(a)})}return d(a)},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(g,h){if(h&&("object"==typeof h||"function"==typeof h)){if(h instanceof e&&h.then===e.prototype.then){for(;3===h._81;)h=h._65;return 1===h._81?d(g,h._65):(2===h._81&&c(h._65),void h.then(function(a){d(g,a)},c))}var i=h.then;if("function"==typeof i){var j=new e(i.bind(h));return void j.then(function(a){d(g,a)},c)}}b[g]=h,0===--f&&a(b)}if(0===b.length)return a([]);for(var f=b.length,g=0;g<b.length;g++)d(g,b[g])})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){a.forEach(function(a){e.resolve(a).then(b,c)})})},e.prototype.catch=function(a){return this.then(null,a)}},{"./core.js":19}],21:[function(a,b,c){var d=a("./core.js");b.exports=d,d.prototype.finally=function(a){return this.then(function(b){return d.resolve(a()).then(function(){return b})},function(b){return d.resolve(a()).then(function(){throw b})})}},{"./core.js":19}],22:[function(a,b,c){function d(){j=!1,h._10=null,h._97=null}function e(a){function b(b){(a.allRejections||g(l[b].error,a.whitelist||i))&&(l[b].displayId=k++,a.onUnhandled?(l[b].logged=!0,a.onUnhandled(l[b].displayId,l[b].error)):(l[b].logged=!0,f(l[b].displayId,l[b].error)))}function c(b){l[b].logged&&(a.onHandled?a.onHandled(l[b].displayId,l[b].error):l[b].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[b].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[b].displayId+".")))}a=a||{},j&&d(),j=!0;var e=0,k=0,l={};h._10=function(a){2===a._81&&l[a._72]&&(l[a._72].logged?c(a._72):clearTimeout(l[a._72].timeout),delete l[a._72])},h._97=function(a,c){0===a._45&&(a._72=e++,l[a._72]={displayId:null,error:c,timeout:setTimeout(b.bind(null,a._72),g(c,i)?100:2e3),logged:!1})}}function f(a,b){console.warn("Possible Unhandled Promise Rejection (id: "+a+"):");var c=(b&&(b.stack||b))+"";c.split("\n").forEach(function(a){console.warn("  "+a)})}function g(a,b){return b.some(function(b){return a instanceof b})}var h=a("./core"),i=[ReferenceError,TypeError,RangeError],j=!1;c.disable=d,c.enable=e},{"./core":19}],23:[function(a,b,c){(function(a,b){!function(b,c){function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return p[o]=d,n(o),o++}function e(a){delete p[a]}function f(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function g(a){if(q)setTimeout(g,0,a);else{var b=p[a];if(b){q=!0;try{f(b)}finally{e(a),q=!1}}}}function h(){n=function(b){a.nextTick(function(){g(b)})}}function i(){if(b.postMessage&&!b.importScripts){var a=!0,c=b.onmessage;return b.onmessage=function(){a=!1},b.postMessage("","*"),b.onmessage=c,a}}function j(){var a="setImmediate$"+Math.random()+"$",c=function(c){c.source===b&&"string"==typeof c.data&&0===c.data.indexOf(a)&&g(+c.data.slice(a.length))};b.addEventListener?b.addEventListener("message",c,!1):b.attachEvent("onmessage",c),n=function(c){b.postMessage(a+c,"*")}}function k(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;g(b)},n=function(b){a.port2.postMessage(b)}}function l(){var a=r.documentElement;n=function(b){var c=r.createElement("script");c.onreadystatechange=function(){g(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}function m(){n=function(a){setTimeout(g,0,a)}}if(!b.setImmediate){var n,o=1,p={},q=!1,r=b.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(b);s=s&&s.setTimeout?s:b,"[object process]"==={}.toString.call(b.process)?h():i()?j():b.MessageChannel?k():r&&"onreadystatechange"in r.createElement("script")?l():m(),s.setImmediate=d,s.clearImmediate=e}}("undefined"==typeof self?"undefined"==typeof b?this:b:self)}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:18}],24:[function(a,b,c){var d=a("ip-regex");b.exports=function(a){a=a||{};var b="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",e=d.v4().source,f="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",h="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",i="(?::\\d{2,5})?",j='(?:[/?#][^\\s"]*)?',k=["(?:"+b+"|www\\.)"+c,"(?:localhost|"+e+"|"+f+g+h+")",i,j].join("");return a.exact?new RegExp("(?:^"+k+"$)","i"):new RegExp(k,"ig")}},{"ip-regex":8}],25:[function(a,b,c){b.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}],26:[function(c,d,f){Object.defineProperty(f,"__esModule",{value:!0});var g=c("./Utility"),h=a(g),i=function(){function a(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];b(this,a),/*! Attributes (http://cgit.drupalcode.org/bootstrap/tree/js/attributes.js) * Copyright (c) 2016 Mark Carver <https://www.drupal.org/u/markcarver> * Licensed under GPL-2.0 (https://www.drupal.org/about/licensing) */
this.data={},this.data.class=[],this.merge(c)}return e(a,[{key:"toString",value:function(){var a,b,c="";for(a in this.data)if(this.data.hasOwnProperty(a)){if(b=this.data[a],h.default.isFunction(b)&&(b=b.call(this)),h.default.isObject(b)){var d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(b[e]);b=d}h.default.isArray(b)&&(b=b.join(" ")),("class"!==a||b)&&(c+=" "+h.default.encodeHtmlEntities(a)+'="'+h.default.encodeHtmlEntities(b)+'"')}return c}},{key:"addClass",value:function(a){for(var b=Array.prototype.slice.call(arguments),c=[],d=0,e=b.length;d<e;d++)c=c.concat(h.default.sanitizeClasses(b[d]));return this.data.class=h.default.arrayUniq(this.data.class.concat(c)),this}},{key:"exists",value:function(a){return!h.default.isUndefined(this.data[a])&&null!==this.data[a]}},{key:"get",value:function(a,b){return this.exists(a)||(this.data[a]=h.default.isUndefined(b)?null:b),this.data[a]}},{key:"getData",value:function(){return h.default.extend({},this.data)}},{key:"getClasses",value:function(){return this.get("class",[])}},{key:"hasClass",value:function(a){a=h.default.sanitizeClasses(a);for(var b=this.getClasses(),c=0,d=a.length;c<d;c++)if(h.default.indexOf(b,a[c])===-1)return!1;return!0}},{key:"merge",value:function(b,c){return b=b instanceof a?b.getData():b,b&&!h.default.isUndefined(b.class)&&(b.class=h.default.sanitizeClasses(b.class)),h.default.isUndefined(c)||c?this.data=h.default.extend(!0,{},this.data,b):this.data=h.default.extend({},this.data,b),this.data.class=h.default.arrayUniq(this.data.class),this}},{key:"remove",value:function(a){return this.exists(a)&&delete this.data[a],this}},{key:"removeClass",value:function(a){for(var b=Array.prototype.slice.apply(arguments),c=this.getClasses(),d=[],e=0,f=b.length;e<f;e++){d=d.concat(h.default.sanitizeClasses(b[e]));for(var g=0,i=d.length;g<i;g++){var j=h.default.indexOf(c,d[g]);j!==-1&&c.slice(j,1)}}return this}},{key:"replaceClass",value:function(a,b){var c=this.getClasses(),d=h.default.indexOf(c,a);return d!==-1&&(c[d]=b),this}},{key:"set",value:function(a,b){return this.data[a]="class"===a?h.default.sanitizeClasses(b):b,this}}]),a}();f.default=i},{"./Utility":44}],27:[function(g,h,i){Object.defineProperty(i,"__esModule",{value:!0});var j=g("./Emitter"),k=a(j),l=g("./Utility"),m=a(l),n=function(a){function g(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];b(this,g);var d=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return d.options=m.default.extend(!0,{},a),d}return d(g,a),e(g,[{key:"emit",value:function(a){for(var b=this,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return this.promise(function(c,e){var h;return(h=f(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"emit",b)).call.apply(h,[b,a].concat(d))?void c(b):e(b)})}},{key:"getOption",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1],c=m.default.getProperty(a,this.options);return null===c?b:c}},{key:"promise",value:function a(b){var a=this.getOption("promise");return new a(b.bind(this))}},{key:"reject",value:function(a){var b=this.getOption("promise");return b.reject(a)}},{key:"resolve",value:function(a){var b=this.getOption("promise");return b.resolve(a)}},{key:"sanitize",value:function(a){var b=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return a=a.replace(/\r\n|\r/g,"\n"),(b||this.getOption("sanitize.comments"))&&(a=a.replace(/^#[^\n]*\n/gm,"")),(b||this.getOption("sanitize.encodeHtmlEntities"))&&(a=m.default.encodeHtmlEntities(a)),(b||this.getOption("sanitize.svnNewFiles"))&&(a=a.replace(/^\?[^\n]*\n/gm,"")),a}},{key:"setOption",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1],c=a&&a.split(".")||[];if(1===c.length)return this.options[c[0]]=b,this;try{var d=c.reduce(function(a,b){return m.default.isPlainObject(a[b])?a[b]:a},this.options);d[c[c.length-1]]=b}catch(a){}return this}},{key:"typeCheck",value:function(a,b){var c=arguments.length<=2||void 0===arguments[2]||arguments[2];return c?this.promise(function(c,d){try{m.default.typeCheck(a,b),c(a)}catch(a){d(a)}}):m.default.typeCheck(a,b)}}]),g}(k.default);i.default=n},{"./Emitter":31,"./Utility":44}],28:[function(g,h,i){Object.defineProperty(i,"__esModule",{value:!0});var j=g("./Dreditor"),k=a(j),l=g("./Proxy"),m=a(l),n=g("./Utility"),o=a(n),p=function(a){function g(a,d){var e=arguments.length<=2||void 0===arguments[2]?null:arguments[2],f=arguments.length<=3||void 0===arguments[3]?null:arguments[3];b(this,g);var h;if(o.default.isType(e,k.default))h=e,e=null;else{if(!o.default.isType(e,g))throw new Error('The "parent" argument passed must be an instance of either Dreditor or Diff: '+e);h=e.dreditor}var i=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,h));if("string"!=typeof d)throw new Error('The "string" argument passed must be a string: '+d);return f&&o.default.typeCheck(e,f),Object.defineProperty(i,"__parent__",{value:e,configurable:!0,enumerable:!1,writable:!0}),i.additions=0,i.deletions=0,i.index=null,i.name=a,i.parsed=!1,i.raw=d,i.rawSize=d.length,i.sha1=null,i.size=0,i}return d(g,a),e(g,[{key:"doParse",value:function(a,b){var c=this;return this.parsed?this.resolve(this):this.doTask(a?"parse."+a:"parse",b).then(function(){return c.sha1=o.default.sha1(null!==c.index?c.name+"-"+c.index:c.raw),c.parsed=!0,c.resolve(c)}).finally(function(a){return c.garbageCollect("parse"),a})}},{key:"garbageCollect",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"default":arguments[0],b=f(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"garbageCollect",this).call(this,a);return b&&("parse"===a?this.raw=null:"render"===a&&(this.__parent__=null)),b}},{key:"getParent",value:function(){return this.__parent__ instanceof g&&this.__parent__||null}},{key:"increaseAddition",value:function(){var a=arguments.length<=0||void 0===arguments[0]||arguments[0];this.additions++,a&&this.__parent__&&this.__parent__.increaseAddition()}},{key:"increaseDeletion",value:function(){var a=arguments.length<=0||void 0===arguments[0]||arguments[0];this.deletions++,a&&this.__parent__&&this.__parent__.increaseDeletion()}},{key:"parse",value:function(){return this.doParse(this.name,o.default.noop)}},{key:"renderDiffStats",value:function(){var a=arguments.length<=0||void 0===arguments[0]?this:arguments[0];if(!(a instanceof g))throw new Error('The "object" argument passed is not an instance of Diff: '+a);return o.default.createElement("<span>").addClass("dreditor-stat").append('<span class="dreditor-stat-additions" title="'+a.additions+' additions">+'+a.additions+"</span>").append('<span class="dreditor-stat-deletions" title="'+a.deletions+' deletions">-'+a.deletions+"</span>")}}]),g}(m.default);i.default=p},{"./Dreditor":29,"./Proxy":39,"./Utility":44}],29:[function(f,h,i){Object.defineProperty(i,"__esModule",{value:!0});var j=f("promise/setimmediate/es6-extensions"),k=a(j);f("promise/setimmediate/finally");var l=f("./LocaleBase"),m=a(l),n=f("./Parser"),o=a(n),p=f("./Utility"),q=a(p);f("promise/setimmediate/rejection-tracking").enable({allRejections:!0});var r=function(a){function f(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];b(this,f);var d=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,q.default.extend(!0,{},f.__defaultOptions__,a))),e=d.getOption("promise");if("function"==typeof e&&"object"===("undefined"==typeof e?"undefined":g(e))||"function"!=typeof(e.then||"function"==typeof e&&new e(q.default.noop)).then)throw new Error("Dreditor requires a valid Promise API. There are several polyfills or comprehensive libraries available to choose from.");d.on("render.hunk.start",function(a,b){return b.highlightCode()});var h=d.getOption("highlighter"),i=d.getOption("highlight.isPrism",q.default.noop);return i(h)&&h.hooks.add("wrap",function(a){if("comment"===a.type){var b=a.content.split(/\n/gm);if(b.length>1){var c="";for(var d in a.attributes)a.attributes.hasOwnProperty(d)&&(c+=(c?" ":"")+d+'="'+(a.attributes[d]||"")+'"');for(var e=0,f=b.length;e<f;e++)0!==e?b[e]="<"+a.tag+' class="'+a.classes.join(" ")+'"'+(c?" "+c:"")+">"+b[e]:e!==f&&(b[e]+="</"+a.tag+">");a.content=b.join("\n")}}}),null===d.getOption("sanitize.encodeHtmlEntities")&&d.setOption("sanitize.encodeHtmlEntities",!h),d}return d(f,a),e(f,[{key:"getParser",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.resolve(new o.default(this,a,b))}},{key:"parse",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.getParser(a,b).then(function(a){return a.parse()})}}]),f}(m.default);i.default=r,r.__version__="2.0.0",r.__defaultOptions__={garbageCollect:!0,highlighter:null,highlight:{callback:function(a){var b=this.getDreditorOption("highlighter"),c=this.getDreditorOption("highlight.isPrism",q.default.noop);if(b&&c(b)){var d=this.getDreditorOption("highlight.prismLanguage",q.default.noop),e=d.call(this,b)||"markup",f=q.default.indexOf(["coffeescript","css","js","less","php","sass","scss"],e)!==-1,g=!1,h=!1;if(f){for(var i=a.replace(/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/gm,"").split("\n"),j=!1,k=!1,l=0,m=i.length;l<m&&!k;l++)j=j||i[l].match(/\/\*+/),k=i[l].match(/\*+\//);!j&&k&&(g=!0,a="/**\n"+a),j=!1,k=!1;for(var n=i.length-1;n>=0&&!j;n--)k=k||i[n].match(/\/\*+\//),j=i[n].match(/\/\*+/);j&&!k&&(h=!0,a+="\n*/")}if(a=b.highlight(a,b.languages[e],e),g&&(a=a.split("\n").slice(1).join("\n")),h){var o=a.split("\n");a=o.slice(0,o.length-1).join("\n")}}else if(q.default.isFunction(b)){var p=b.apply(b,a);return p||a}return a},isPrism:function(){var a=arguments.length<=0||void 0===arguments[0]?this.getDreditorOption("highlighter"):arguments[0];return!!(a&&q.default.isFunction(a.highlight)&&q.default.isFunction(a.Token)&&q.default.isPlainObject(a.languages)&&q.default.isPlainObject(a.languages.markup))},prismExtensionLanguageMap:{coffee:["coffeescript","javascript"],htaccess:"apacheconf",inc:"php",info:"ini",md:"markdown",yml:"yaml"},prismLanguage:function(a){if(q.default.isPlainObject(a.languages[this.__parent__.extension]))return this.__parent__.extension;for(var b=this.getDreditorOption("highlight.prismExtensionLanguageMap",{}),c=[].concat(b[this.__parent__.extension]||[]),d=0,e=c.length;d<e;d++)if(q.default.isPlainObject(a.languages[c[d]]))return c[d]},tabs:!0,trailingWhitespace:!0},promise:k.default,renderToString:!1,sanitize:{comments:!0,encodeHtmlEntities:null,svnNewFiles:!0}}},{"./LocaleBase":36,"./Parser":37,"./Utility":44,"promise/setimmediate/es6-extensions":20,"promise/setimmediate/finally":21,"promise/setimmediate/rejection-tracking":22}],30:[function(c,d,f){Object.defineProperty(f,"__esModule",{value:!0});var g=c("void-elements"),h=a(g),i=c("./Attributes"),j=a(i),k=c("./Utility"),l=a(k),m=function(){function a(){var c=arguments.length<=0||void 0===arguments[0]?null:arguments[0];b(this,a);var d=l.default.isObject(c)?c:{type:"tag",name:c,voidElement:!!h.default[c],attrs:{},children:[]};if("tag"===d.type&&"string"!=typeof d.name)throw new Error("You must pass a string tag name when creating a tag element: "+d.name);if(this.attributes=new j.default(d.attrs),this.children=[],"tag"===d.type)for(var e=0,f=d.children.length;e<f;e++)this.children.push(new a(d.children[e]));this.content="text"===d.type&&d.content||"",this.enabled=!0,this.name="tag"===d.type&&d.name,this.rendered=null,this.type=d.type,this.voidElement=d.voidElement}return e(a,[{key:"addClass",value:function(a){return this.attributes.addClass.apply(this.attributes,arguments),this}},{key:"append",value:function(){var b=arguments.length<=0||void 0===arguments[0]?null:arguments[0],c=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],d=c?new a({type:"text",content:b.toString()}):a.create(b);if(d instanceof Array)for(var e=0,f=d.length;e<f;e++)this.children.push(d[e]);else d instanceof a&&this.children.push(d);return this}},{key:"appendTo",value:function(b){if(!(b instanceof a))throw new Error("You can only append to another Element instance.");return b.append(this),this}},{key:"clone",value:function b(){var b=new a(this.name).setAttributes(this.attributes.getData());this.content&&(b.content=this.content);for(var c=0,d=this.children.length;c<d;c++)b.children.push(this.children[c].clone());return b}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"getAttribute",value:function(a,b){return this.attributes.get.apply(this.attributes,arguments)}},{key:"getClasses",value:function(){return this.attributes.getClasses.apply(this.attributes,arguments)}},{key:"hasAttribute",value:function(a){return this.attributes.exists.apply(this.attributes,arguments)}},{key:"hasClass",value:function(a){return this.attributes.hasClass.apply(this.attributes,arguments)}},{key:"html",value:function(){var a=arguments.length<=0||void 0===arguments[0]?null:arguments[0],b=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(l.default.isUndefined(a)){for(var c="",d=0,e=this.children;d<e;d++)c+=this.children[d].toString();return c}return this.children=[],this.content=null,a&&this.append(a,b),this}},{key:"prepend",value:function(){var b=arguments.length<=0||void 0===arguments[0]?null:arguments[0],c=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],d=c?new a({type:"text",content:b.toString()}):a.create(b);if(d instanceof Array)for(var e=d.length;e>0;e--)this.children.unshift(d[e]);else d instanceof a&&this.children.unshift(d);return this}},{key:"prependTo",value:function(b){if(!(b instanceof a))throw new Error("You can only prepend to another Element instance.");return b.prepend(this),this}},{key:"removeAttribute",value:function(a){return this.attributes.remove.apply(this.attributes,arguments),this}},{key:"removeClass",value:function(a){return this.attributes.removeClass.apply(this.attributes,arguments),this}},{key:"replaceClass",value:function(a,b){return this.attributes.replaceClass.apply(this.attributes,arguments),this}},{key:"setAttribute",value:function(a,b){return this.attributes.set.apply(this.attributes,arguments),this}},{key:"setAttributes",value:function(a){return this.attributes.merge.apply(this.attributes,arguments),this}},{key:"text",value:function b(c){if(l.default.isUndefined(c)){for(var b="text"===this.type&&this.content||"",d=0,e=this.children.length;d<e;d++)"text"===this.children[d].type&&this.children[d].content&&(b+=this.children[d].text());return b}return this.children=[new a({type:"text",content:l.default.encodeHtmlEntities(c+"")})],this}},{key:"toString",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(!a&&null!==this.rendered)return this.enabled?this.rendered:"";if(this.rendered="","text"===this.type&&this.content)this.rendered+=this.content;else if("tag"===this.type&&this.name&&(this.rendered+="<"+this.name+this.attributes+(this.voidElement?" /":"")+">",this.name&&!this.voidElement)){for(var b=0,c=this.children.length;b<c;b++)this.rendered+=this.children[b].toString(a);this.rendered+="</"+this.name+">"}return this.enabled?this.rendered:""}}]),a}();f.default=m,m.create=function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(a instanceof m)return a;for(var b=[],c=l.default.parseHtml(a),d=0,e=c.length;d<e;d++)b[d]=new m(c[d]);return 1===b.length?b[0]:b}},{"./Attributes":26,"./Utility":44,"void-elements":25}],31:[function(c,d,f){Object.defineProperty(f,"__esModule",{value:!0});var g=c("./Event"),h=a(g),i=function(){function a(){b(this,a),this.listeners={}}return e(a,[{key:"emit",value:function(a){if(!a||"string"!=typeof a)throw new Error("Invalid event type: "+a);var b=[];for(var c in this.listeners)a.match(new RegExp(c))&&(b=b.concat(this.listeners[c]));if(!b.length)return!0;var d=new h.default(a);d.setTarget(this);for(var e=arguments.length,f=Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];f.unshift(d);for(var i=0,j=b.length;i<j;i++)b[i].apply(this,f);return!d.defaultPrevented}},{key:"off",value:function(a,b){for(var c=a.split(" "),d=0,e=c.length;d<e;d++){var f=c[d];if(this.listeners[f])if(b){for(var g=0,h=this.listeners[f].length;g<h;g++)if(this.listeners[f][g]===b){this.listeners[f].splice(g,1);break}}else this.listeners[f]=[]}return this}},{key:"on",value:function(a,b){for(var c=a.split(" "),d=0,e=c.length;d<e;d++){var f=c[d];this.listeners[f]||(this.listeners[f]=[]),this.listeners[f].push(b)}return this}},{key:"once",value:function a(b,c){var a=function a(){this.off(b,a),c.apply(this,arguments)};return this.on(b,a)}}]),a}();f.default=i},{"./Event":32}],32:[function(a,c,d){Object.defineProperty(d,"__esModule",{value:!0});var e=function a(c){b(this,a);var d=!1,e=null,f=c.split(".").filter(Boolean),g=f.shift();Object.defineProperty(this,"defaultPrevented",{get:function(){return d}}),Object.defineProperty(this,"namespace",{value:[""].concat(f).join(".")}),Object.defineProperty(this,"timeStamp",{value:Date.now()}),Object.defineProperty(this,"type",{value:g}),Object.defineProperty(this,"preventDefault",{value:function(){d=!0}}),Object.defineProperty(this,"setTarget",{value:function(a){null===e&&(e=a)}}),Object.defineProperty(this,"target",{get:function(){return e}})};d.default=e},{}],33:[function(f,g,h){Object.defineProperty(h,"__esModule",{value:!0});var i=f("./Hunk"),j=a(i),k=f("./Patch"),l=a(k),m=f("./Renderable"),n=a(m),o=f("./Table"),p=a(o),q=f("./Utility"),r=a(q),s=function(a){function f(a,d){b(this,f);var e=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,"file",d,a,l.default));e.border=1,e.extension=null,e.filename=null,e.height=43,e.margin={top:30},e.hunks=[],e.index=null,e.source=null,e.status=null,e.target=null;var g=e.raw.split(/^@@+\s/gm).filter(Boolean);e.meta=g.shift().split(/\n/);for(var h=0,i=e.meta.length;h<i;h++){var k=e.meta[h];/\/dev\/null|^index\s/.test(k)||(/^---\s/.test(k)?e.source=k.replace(/^---\s(?:(?:a|b|c|i|o|w|1|2)\/)?/,""):/^\+\+\+\s/.test(k)&&(e.target=k.replace(/^\+\+\+\s(?:(?:a|b|c|i|o|w|1|2)\/)?/,"")))}!e.source&&e.target?(e.filename=e.target,e.status="added"):e.source&&!e.target?(e.filename=e.source,e.status="deleted"):e.source&&e.target&&e.source!==e.target?(e.filename=e.source+" -> "+e.target,e.status="renamed"):e.source===e.target&&(e.filename=e.target,e.status="modified"),e.extension=r.default.extension(e.target?e.target:e.source);for(var m=0,n=g.length;m<n;m++)e.hunks[m]=new j.default(e,g[m]),e.hunks[m].index=m,e.height+=e.hunks[m].height,e.size+=e.hunks[m].size;return e}return d(f,a),e(f,[{key:"getPatch",value:function(){return this.getParent()}},{key:"parse",value:function(){var a=this;return this.doParse(null,function(){return a.each(a.hunks,function(a){return a.parse()})})}},{key:"render",value:function(){var a=this;return this.doRender("file",function(){return a.renderContainer(),a.header=r.default.createElement("<div>").addClass("dreditor-file-header").appendTo(a.container),r.default.createElement("<div>").addClass("dreditor-file-info").appendTo(a.header).append(a.renderDiffStats()).append(a.renderStatus()).append(a.renderFilename()),a.table=new p.default(a.name).appendTo(a.container),a.each(a.hunks,function(b){return b.render(a.table)}).then(function(){return a.container})})}},{key:"renderPlaceholder",value:function(){var a=r.default.createElement("<div>").addClass("dreditor-file-header");return r.default.createElement("<div>").addClass("dreditor-file-info").append(this.getDreditorOption("throbber").replace("dreditor-throbber","dreditor-throbber xs in")).append(this.renderStatus()).append(this.renderFilename()).appendTo(a),this.renderContainer().append(a)}},{key:"renderFilename",value:function(){return r.default.createElement("<span>").addClass("dreditor-filename").text(this.filename)}},{key:"renderStatus",value:function(){var a="?";return"added"===this.status?a="A":"deleted"===this.status?a="D":"modified"===this.status?a="M":"renamed"===this.status&&(a="R"),r.default.createElement("<span>").text(a).addClass(["dreditor-file-status","dreditor-file-status--"+(this.status?this.status:"unknown")]).setAttribute("title",this.status[0].toUpperCase()+this.status.substr(1))}}]),f}(n.default);h.default=s},{"./Hunk":34,"./Patch":38,"./Renderable":40,"./Table":41,"./Utility":44}],34:[function(f,g,h){Object.defineProperty(h,"__esModule",{value:!0});var i=f("./File"),j=a(i),k=f("./Line"),l=a(k),m=f("./Renderable"),n=a(m),o=f("./Utility"),p=a(o),q=function(a){function f(a,d){b(this,f);var e=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,"hunk",d,a,j.default));e.header=null,e.height=26,e.lines=[],e.meta=null,e.source={start:0,total:0},e.target={start:0,total:0};var g=d.split(/\n/);e.meta=g.shift(),g=g.filter(function(a){return""!==a});for(var h=0,i=g.length;h<i;h++)e.lines[h]=new l.default(e,g[h]),e.lines[h].index=h,e.height+=e.lines[h].height,e.size+=e.lines[h].size;return e}return d(f,a),e(f,[{key:"getFile",value:function(){return this.getParent()}},{key:"highlightCode",value:function(){for(var a="",b=0,c=this.lines.length;b<c;b++)a+=this.lines[b].value+(b!==c-1?"\n":"");var d=this.getDreditorOption("highlighter"),e=this.getDreditorOption("highlight.callback",p.default.noop);d&&p.default.isFunction(e)&&(a=e.apply(this,[a])||""),this.getDreditorOption("highlight.trailingWhitespace")&&(a=a.replace(/(\t| )+\n/g,'<span class="dreditor-trailing-space" title="Trailing whitespace">$1</span>\n')),this.getDreditorOption("highlight.tabs")&&(a=a.replace(/\t/g,'<span class="dreditor-tab" title="Tab"></span>'));for(var f=a.split("\n"),g=0,h=f.length;g<h;g++)"no-new-line"!==this.lines[g].status&&(this.lines[g].value=f[g])}},{key:"parse",value:function(){var a=this;return this.doParse("hunk",function(){if(a.meta.length){var b=a.meta.match(/\s?(@@+)\s?/);a.meta=(b&&b[1]&&b[1]+" "||"")+a.meta;var c=a.meta.split(/\s?@@+\s?/).filter(Boolean);c[1]&&(a.header=c[1]);var d,e,f=c[0].split(" ");"-"===f[0][0]?(d=f[0].substr(1).split(","),e=f[1].substr(1).split(",")):(d=f[1].substr(1).split(","),e=f[0].substr(1).split(",")),a.source.start=parseInt(d[0],10),a.source.total=parseInt(d[1]||0,10),a.target.start=parseInt(e[0],10),a.target.total=parseInt(e[1]||0,10)}var g=a.source.start,h=a.target.start;return a.each(a.lines,function(a){return a.parse().then(function(){switch(a.status){case"added":a.lineNumbers.target=h++;break;case"deleted":a.lineNumbers.source=g++;break;default:a.lineNumbers.source=g++,a.lineNumbers.target=h++}})})})}},{key:"render",value:function(a){var b=this;return this.doRender("hunk",function(){if(b.rendered=p.default.createElement(),b.meta){var c=a.addRow().setAttributes(b.attributes).addClass(["dreditor-line","dreditor-line--hunk"]);c.addCell().setAttribute("data-line-number","...").addClass("dreditor-line-number"),c.addCell().setAttribute("data-line-number","...").addClass("dreditor-line-number"),c.addCell().setAttribute("data-hunk-meta",b.meta).addClass("dreditor-hunk-meta")}return b.each(b.lines,function(b){return b.render(a.addRow())}).then(function(){return a})})}}]),f}(n.default);h.default=q},{"./File":33,"./Line":35,"./Renderable":40,"./Utility":44}],35:[function(f,g,h){Object.defineProperty(h,"__esModule",{value:!0});var i=f("./Hunk"),j=a(i),k=f("./Renderable"),l=a(k),m=f("./Utility"),n=a(m),o=function(a){function f(a,d){b(this,f);var e=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,"line",d,a,j.default));switch(e.lineNumbers={source:0,target:0},e.height=20,e.status=null,e.value=d.substr(1),e.size=e.value.length,e.symbol=d[0],e.symbol){case"-":e.status="deleted";break;case"+":e.status="added";break;case"\\":e.status="no-new-line",e.symbol="",e.value=e.value.replace(/^\s*|\s*$/,"");break;default:e.status="context"}switch(e.status){case"added":e.increaseAddition();break;case"deleted":e.increaseDeletion()}return e}return d(f,a),e(f,[{key:"getHunk",value:function(){return this.getParent()}},{key:"parse",value:function(){var a=this;return this.doParse("line",function(){a.attributes.addClass("dreditor-line--"+a.status)})}},{key:"render",value:function(a){var b=this;return this.doRender("line",function(){var c=b.getHunk().getFile(),d="file-"+c.sha1;if(a.setAttributes(b.attributes).addClass(["dreditor-line","dreditor-line--"+b.status]),"no-new-line"!==b.status){var e=a.addCell().addClass("dreditor-line-number");b.lineNumbers.source&&e.setAttribute("id",d+"-S"+b.lineNumbers.source).setAttribute("data-line-number",b.lineNumbers.source?b.lineNumbers.source:"");var f=a.addCell().addClass("dreditor-line-number");b.lineNumbers.target&&f.setAttribute("id",d+"-T"+b.lineNumbers.target).setAttribute("data-line-number",b.lineNumbers.target?b.lineNumbers.target:"")}var g=a.addCell().addClass("dreditor-line-code");return"no-new-line"===b.status&&g.setAttribute("colspan",3),n.default.createElement('<span class="dreditor-line-code-inner"/>').appendTo(g).setAttribute("data-symbol",b.symbol).html(b.value,!0),a})}}]),f}(l.default);h.default=o},{"./Hunk":34,"./Renderable":40,"./Utility":44}],36:[function(f,g,h){Object.defineProperty(h,"__esModule",{value:!0});var i=f("./Base"),j=a(i),k=f("./Utility"),l=a(k),m=function(a){function f(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];b(this,f);var d=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,l.default.extend(!0,{},f.__defaultOptions__,a)));return d.langCode=d.getOption("langCode","en-US"),d.locale=d.getOption("locale",{}),d}return d(f,a),e(f,[{key:"t",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.langCode:arguments[1];return this.locale[b]&&this.locale[b].hasOwnProperty(a)?this.locale[b][a]:a}}]),f}(j.default);h.default=m,m.__defaultOptions__={locale:{}}},{"./Base":27,"./Utility":44}],37:[function(g,h,i){Object.defineProperty(i,"__esModule",{value:!0});var j=g("./Dreditor"),k=(a(j),g("./Patch")),l=a(k),m=g("./Renderable"),n=a(m),o=g("./Url"),p=a(o),q=g("./Utility"),r=a(q),s=function(a){function g(a,d){var e=arguments.length<=2||void 0===arguments[2]?null:arguments[2];b(this,g);var f=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,"parser",d,a));f.patches=[],f.url=e&&p.default.create(e)||null,f.sanitized=f.sanitize(f.raw);for(var h=f.sanitized.split(/^From \b[0-9a-f]{5,40}\b Mon Sep 17 00:00:00 2001/gm).filter(Boolean),i=0,j=h.length;i<j;i++)f.patches[i]=new l.default(f,h[i]),f.patches[i].index=i,f.height+=f.patches[i].height,f.size+=f.patches[i].size;return f}return d(g,a),e(g,[{key:"garbageCollect",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"default":arguments[0],b=f(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"garbageCollect",this).call(this,a);return b&&"parse"===a&&(this.sanitized=null),b}},{key:"render",value:function(){var a=this;return this.doRender(null,function(){a.rendered=r.default.createElement("<div>").setAttributes(a.attributes).addClass(["dreditor-wrapper","dreditor-reset"]);var b=r.default.createElement("<div>").addClass("dreditor-patches").appendTo(a.rendered);return a.each(a.patches,function(a){return a.render().then(function(a){return b.append(a)})})})}},{key:"renderPatchesMenu",value:function(){var a=this;return this.doRender("patch.menu",function(){var b=r.default.createElement("<ul>").addClass("dreditor-patch-menu").append("<li><strong>Patch</strong></li>");return a.patches.length<=1?a.resolve(b.disable()):a.each(a.patches,function(a){return a.renderMenuItem().then(function(a){return b.append(a)})}).then(function(){return b})})}}]),g}(n.default);i.default=s},{"./Dreditor":29,"./Patch":38,"./Renderable":40,"./Url":43,"./Utility":44}],38:[function(f,g,h){Object.defineProperty(h,"__esModule",{value:!0});var i=f("./File"),j=a(i),k=f("./Parser"),l=a(k),m=f("./Renderable"),n=a(m),o=f("./Utility"),p=a(o),q=function(a){function f(a,d){b(this,f);var e=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,"patch",d,a,l.default));e.files=[],e.meta=null;var g=e.raw.split(/^diff\s[^\n]+\n/gm),h=g.shift();g=g.filter(Boolean),e.parseMetaInfo(h,g);for(var i=0,k=g.length;i<k;i++)e.files[i]=new j.default(e,g[i]),e.files[i].index=i,e.height+=e.files[i].height,e.size+=e.files[i].size;return e}return d(f,a),e(f,[{key:"getParser",value:function(){return this.getParent()}},{key:"parseMetaInfo",value:function(a,b){if(!this.meta){var c={};if(a.length){var d=a.split("\n").filter(Boolean),e=p.default.indexOf(d,""),f=p.default.indexOf(d,"-- >8 --");e!==-1&&f!==-1&&(e===-1&&(e=d.length),d=d.slice(0,e).concat(d.slice((f!==-1?f:e)+1)));for(var g,h=0,i=d.length;h<i;h++){var j=d[h],k=j.match(/^([\w\d\-_]+):\s(.*)/),l=k&&k[1]&&p.default.machineName(k[1]),m=k&&k[2];l&&m?(/^date/i.test(l)?m=isNaN(Date.parse(m))?m:new Date(m):/^subject/i.test(l)&&(m=m.replace(/^\[PATCH]\s/,"")),c[l]=m,g=l):g&&j.match(/^\s/)?c[g]+=j:j&&!j.match(/^---/)||(g=null)}if(b&&b.length){var n=b[b.length-1],o=n.search(/^--\s*\n(.|\n)*$/m);o!==-1&&(c.signature=n.substr(o).replace(/^--\s*\n/,"")||null,c.signature&&(b[b.length-1]=n.substr(0,o)))}}this.meta=c}}},{key:"render",value:function(){var a=this;return this.doRender("patch",function(){return a.renderContainer().then(function(){return a.renderMeta()}).then(function(b){return b.appendTo(a.container)}).then(function(){return a.each(a.files,function(a){return a.render()})}).then(function(){return a.container})})}},{key:"renderMenuItem",value:function(){var a=this;return this.doRender("patch.menu.item",function(){var b=p.default.createElement("<li>").addClass("patch-item"),c=a.index+1;return p.default.createElement("<a>").setAttribute("href","#").setAttribute("data-patch",c).text(c).appendTo(b)})}},{key:"renderMeta",value:function(){var a=this;return this.promise(function(b,c){var d=p.default.createElement("<div>").addClass("dreditor-patch-meta");if(Object.keys(a.meta).length){var e=p.default.createElement("<table>").appendTo(d),f=p.default.createElement("<tbody>").appendTo(e);for(var g in a.meta)if(a.meta.hasOwnProperty(g)){var h=a.meta[g];if(h instanceof Date){var i="function"==typeof h.toISOString&&h.toISOString();h="function"==typeof h.toLocaleString?h.toLocaleString():h.toString(),i&&(h='<time datetime="'+i+'">'+h+"</time>")}p.default.createElement("<tr><td>"+g+"</td><td>"+h+"</td></tr>").appendTo(f)}}else d.disable();b(d)})}}]),f}(n.default);h.default=q},{"./File":33,"./Parser":37,"./Renderable":40,"./Utility":44}],39:[function(c,d,f){Object.defineProperty(f,"__esModule",{value:!0});var g=c("./Dreditor"),h=a(g),i=c("./Utility"),j=a(i),k=function(){function a(c){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(b(this,a),!(c instanceof h.default))throw new Error('The "dreditor" argument must be an instance of Dreditor: '+c);Object.defineProperty(this,"dreditor",{value:c,configurable:!0,enumerable:!1,writable:!0}),this.options=d}return e(a,[{key:"all",value:function(a){var b=this.getDreditorOption("promise");return b.all(a)}},{key:"doTask",value:function(a,b){var c=this;return this.emit(a+".start",this).then(function(){return b.call(c)}).then(function(b){return c.emit(a+".end",c).then(function(){return b})})}},{key:"each",value:function(a,b){var c=this;return a=j.default.isArray(a)?a:[a],a.reduce(function(c,d,e){return c.then(function(){return b(d,e,a)})},this.resolve()).then(function(){return c.resolve(a)})}},{key:"emit",value:function(a,b){return this.proxy("emit",arguments)}},{key:"garbageCollect",value:function(){var a=(arguments.length<=0||void 0===arguments[0]?"default":arguments[0],!!this.getDreditorOption("garbageCollect"));return a}},{key:"getDreditorOption",value:function(a){arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.proxy("getOption",arguments)}},{key:"getOption",value:function(a){arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.dreditor.getOption.apply(this,arguments)}},{key:"map",value:function(a,b){var c=this;return this.each(a,function(d,e){a[e]=c.resolve(b.apply(c,[d,e,a]))}).then(function(a){return c.all(a)})}},{key:"off",value:function(a,b){return this.proxy("off",arguments),this}},{key:"on",value:function(a,b){return this.proxy("on",arguments),this}},{key:"once",value:function(a,b){return this.proxy("once",arguments),this}},{key:"promise",
value:function a(b){var a=this.getDreditorOption("promise");return new a(b.bind(this))}},{key:"proxy",value:function(a,b){return this.dreditor[a].apply(this.dreditor,b)}},{key:"reject",value:function(a){return this.proxy("reject",arguments)}},{key:"resolve",value:function(a){return this.proxy("resolve",arguments)}},{key:"sanitize",value:function(a){!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return this.proxy("sanitize",arguments)}},{key:"setDreditorOption",value:function(a){arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.proxy("setOption",arguments)}},{key:"setOption",value:function(a){arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.dreditor.setOption.apply(this,arguments)}},{key:"t",value:function(a){arguments.length<=1||void 0===arguments[1]?this.langCode:arguments[1];return this.proxy("t",arguments)}},{key:"typeCheck",value:function(a,b){arguments.length<=2||void 0===arguments[2]||arguments[2];return this.proxy("typeCheck",arguments)}}]),a}();f.default=k},{"./Dreditor":29,"./Utility":44}],40:[function(g,h,i){Object.defineProperty(i,"__esModule",{value:!0});var j=g("./Attributes"),k=a(j),l=g("./Diff"),m=a(l),n=g("./Element"),o=a(n),p=g("./Utility"),q=a(p),r=function(a){function g(a,d){var e=arguments.length<=2||void 0===arguments[2]?null:arguments[2];b(this,g);var f=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,a,d,e));return f.attributes=new k.default,f.border=0,f.container=null,f.height=0,f.margin=0,f.padding=0,f.rendered=null,f.width=0,f}return d(g,a),e(g,[{key:"doRender",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]?"rendered":arguments[0],c=arguments[1];return this.rendered?this.resolve(this.rendered):this.resolve(this.parsed?null:this.parse()).then(function(){return a.doTask(b?"render."+b:"render",function(){return a.resolve(c.call(a)).then(function(b){return a.typeCheck(b,o.default)}).catch(function(b){return b instanceof Error?a.reject(b):b.disable()}).then(function(b){return a.rendered=b,b})})}).finally(function(b){a.garbageCollect("render");for(var c=["border","margin","padding"],d=0,e=c.length;d<e;d++)a[c[d]]=q.default.normalizeDimension(c[d],a[c[d]]);return b})}},{key:"garbageCollect",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"default":arguments[0],b=f(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"garbageCollect",this).call(this,a);return b&&"render"===a&&(this.attributes=null),b}},{key:"outerHeight",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],b=this.height;return this.border=q.default.normalizeDimension("border",this.border),this.padding=q.default.normalizeDimension("padding",this.padding),b+=this.border.bottom+this.border.top+this.padding.bottom+this.padding.top,a&&(this.margin=q.default.normalizeDimension("margin",this.margin),b+=this.margin.bottom+this.margin.top),b}},{key:"outerWidth",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],b=this.width;return this.border=q.default.normalizeDimension("border",this.border),this.padding=q.default.normalizeDimension("padding",this.padding),b+=this.border.left+this.border.right+this.padding.left+this.padding.right,a&&(this.margin=q.default.normalizeDimension("margin",this.margin),b+=this.margin.left+this.margin.right),b}},{key:"render",value:function(){return this.doRender(null,q.default.noop)}},{key:"renderContainer",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"div":arguments[0];return this.container=q.default.createElement("<"+a+">").setAttributes(this.attributes).addClass("dreditor-"+this.name),this.container}},{key:"renderPlaceholder",value:function(){var a=this;return this.doRender(this.name+".placeholder",function(){return a.renderContainer().addClass("placeholder")})}}]),g}(m.default);i.default=r},{"./Attributes":26,"./Diff":28,"./Element":30,"./Utility":44}],41:[function(g,h,i){Object.defineProperty(i,"__esModule",{value:!0});var j=g("./Element"),k=a(j),l=g("./TableRow"),m=a(l),n=function(a){function g(){var a=arguments.length<=0||void 0===arguments[0]?null:arguments[0],d=arguments.length<=1||void 0===arguments[1]||arguments[1];b(this,g);var e=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,d?"div":"table"));return e.addClass(d?"dreditor-table-wrapper":"dreditor-table"),e.wrapper=d,e.table=d?k.default.create("<table/>").appendTo(e):e,e.header=k.default.create('<thead class="dreditor-table-header"/>').appendTo(e.table),e.body=k.default.create('<tbody class="dreditor-table-body"/>').appendTo(e.table),e.footer=k.default.create('<tfoot class="dreditor-table-footer"/>').appendTo(e.table),e.id=a,e.id&&(d&&e.addClass("dreditor-"+e.id+"-table-wrapper"),e.table.addClass("dreditor-"+e.id+"-table"),e.header.addClass("dreditor-"+e.id+"-table-header"),e.body.addClass("dreditor-"+e.id+"-table-body"),e.footer.addClass("dreditor-"+e.id+"-table-footer")),e}return d(g,a),e(g,[{key:"addRow",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"body":arguments[0],b=new m.default(this.id,"header"===a?"th":"td");return b.appendTo(this[a])}},{key:"appendToBody",value:function(){var a=arguments.length<=0||void 0===arguments[0]?null:arguments[0];a&&this.body.append(a)}},{key:"appendToFooter",value:function(){var a=arguments.length<=0||void 0===arguments[0]?null:arguments[0];a&&this.footer.append(a)}},{key:"appendToHeader",value:function(){var a=arguments.length<=0||void 0===arguments[0]?null:arguments[0];a&&this.header.append(a)}},{key:"toString",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];return this.body.children.length||this.body.disable(),this.footer.children.length||this.footer.disable(),this.header.children.length||this.header.disable(),f(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"toString",this).call(this,a)}}]),g}(k.default);i.default=n},{"./Element":30,"./TableRow":42}],42:[function(f,g,h){Object.defineProperty(h,"__esModule",{value:!0});var i=f("./Element"),j=a(i),k=function(a){function f(){var a=arguments.length<=0||void 0===arguments[0]?null:arguments[0],d=arguments.length<=1||void 0===arguments[1]?"td":arguments[1];b(this,f);var e=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,"tr"));return e.cellType=d||"td",e.addClass("dreditor-table-row"),e.id=a,e.id&&e.addClass("dreditor-"+e.id+"-table-row"),e}return d(f,a),e(f,[{key:"addCell",value:function(){var a=arguments.length<=0||void 0===arguments[0]?null:arguments[0],b=j.default.create("<"+this.cellType+"/>").appendTo(this);return a&&b.html(a),b}}]),f}(j.default);h.default=k},{"./Element":30}],43:[function(f,g,h){Object.defineProperty(h,"__esModule",{value:!0});var i=f("./Utility"),j=a(i),k=function(a){function f(a){b(this,f);var d=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,a));if(d.basename=null,d.extension=null,d.filename=null,d.sha1=null,d.size=0,d.type=null,d.url="string"==typeof a&&a||null,j.default.isObject(a)&&j.default.extend(d,a),!d.url||!j.default.isUrl(d.url))throw new Error('A Url object must be initialized with a valid "url" property.');d.fragment="";var e=d.url.search(/#/);e!==-1&&(d.fragment=d.url.substr(e+1),d.url=d.url.substr(0,e)),d.query={};var g=d.url.search(/\?/);return g!==-1&&(d.query=d.url.substr(g+1),d.url=d.url.substr(0,g)),d.extension=d.extension||j.default.extension(d.url),d.basename=d.basename||j.default.basename(d.url,"."+d.extension),d.filename=[d.basename,d.extension].join("."),d.sha1=j.default.sha1(d.url),d}return d(f,a),e(f,[{key:"toString",value:function(){return this.url+j.default.param(this.query)+this.fragment}},{key:"valueOf",value:function(){return this.toString()}}]),f}(String);h.default=k,k.create=function(a){return a instanceof k?a:new k(a)}},{"./Utility":44}],44:[function(b,c,d){(function(c){Object.defineProperty(d,"__esModule",{value:!0});var e=b("array-uniq"),f=a(e),g=b("./Element"),h=a(g),i=b("node-qs-serialization"),j=b("extend"),k=a(j),l=b("html-parse-stringify2"),m=a(l),n=b("indexof"),o=a(n),p=b("isarray"),q=a(p),r=b("is-function"),s=a(r),t=b("isobject"),u=a(t),v=b("is-plain-object"),w=a(v),x=b("is-undefined"),y=a(x),z=b("url-regex"),A=a(z),B={arrayUniq:function(a){return(0,f.default)(a)},basename:function(a,b){/*! PHP's basename in JavaScript (https://github.com/kvz/locutus/blob/master/src/php/filesystem/basename.js) * Copyright (c) 2007-2016 Kevin van Zonneveld (http://kvz.io) and Contributors (http://locutus.io/authors) * Licensed under MIT (https://github.com/kvz/locutus/blob/master/LICENSE) */
var c=a,d=c.charAt(c.length-1);return"/"!==d&&"\\"!==d||(c=c.slice(0,-1)),c=c.replace(/^.*[\/\\]/g,""),"string"==typeof b&&c.substr(c.length-b.length)===b&&(c=c.substr(0,c.length-b.length)),c},createElement:function(a){return h.default.create(a)},deparam:function(a){return(0,i.deparam)(a)},encodeHtmlEntities:function(a){return(""+a).replace(/[\u00A0-\u9999<>&]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},extend:function(a,b){return k.default.apply({},arguments)},extension:function(a){return/tar\.gz$/.test(a)?"tar.gz":a.slice((a.lastIndexOf(".")-1>>>0)+2)},getProperty:function(a,b){return a.split(".").reduce(function(a,b){return(0,y.default)(a[b])?null:a[b]},b)},indexOf:function(a,b){return(0,o.default)(a,b)},isArray:function(a){return(0,q.default)(a)},isFunction:function(a){return(0,s.default)(a)},isObject:function(a){return(0,u.default)(a)},isPlainObject:function(a){return(0,w.default)(a)},isSha1:function(a){return/^[0-9a-f]{5,40}$/.test(a)},isType:function(a,b){return B.typeCheck(a,b,!1)},isUndefined:function(a){return(0,y.default)(a)},isUrl:function(a){var b=arguments.length<=1||void 0===arguments[1]?{exact:!0}:arguments[1];return a.search(/(\n|\r\n|\r)/gm)===-1&&(0,A.default)(b).test(a)},machineName:function(a){return a.replace(/([A-Z]+[^A-Z]+)/g,"_$1").toLowerCase().replace(/[^a-z0-9-]+/g,"_").replace(/_+/g,"_").replace(/(^_|_$)/g,"")},noop:function(){},normalizeDimension:function(a,b){var c=["border","margin","padding"];if((0,o.default)(c,a)===-1)throw new TypeError("Unknown dimension: "+a+". Only the following dimensions are allowed: "+c.join(", "));var d=function(){var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return{bottom:a,left:a,right:a,top:a}};if("number"==typeof b)b=d(b);else{if(!(0,w.default)(b))throw new TypeError('The "'+a+'" dimension provided must be a Number or a plain object.');b=(0,k.default)({},d(),b)}return b},param:function(a){return(0,i.param)(a)},parseHtml:function(a){var b=arguments.length<=1||void 0===arguments[1]?{ignoreWhitespace:!1}:arguments[1];return m.default.parse(a,b)},sanitizeClasses:function(){for(var a=[],b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0,g=c.length;e<g;e++){var h=c[e]instanceof Array&&c[e]||"string"==typeof c[e]&&c[e].split(" ")||[];if(h.length)for(var i=0,j=h.length;i<j;i++)a.push(h[i])}return(0,f.default)(a)},sha1:function(a){/*! PHP's sha1 in JavaScript (https://github.com/kvz/locutus/blob/master/src/php/strings/sha1.js) * Copyright (c) 2007-2016 Kevin van Zonneveld (http://kvz.io) and Contributors (http://locutus.io/authors) Licensed under MIT (https://github.com/kvz/locutus/blob/master/LICENSE) */
var b,c,d,e,f,g,h,i,j,k=function(a,b){var c=a<<b|a>>>32-b;return c},l=function(a){var b,c,d="";for(b=7;b>=0;b--)c=a>>>4*b&15,d+=c.toString(16);return d},m=new Array(80),n=1732584193,o=4023233417,p=2562383102,q=271733878,r=3285377520;a=unescape(encodeURIComponent(a));var s=a.length,t=[];for(c=0;c<s-3;c+=4)d=a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3),t.push(d);switch(s%4){case 0:c=2147483648;break;case 1:c=a.charCodeAt(s-1)<<24|8388608;break;case 2:c=a.charCodeAt(s-2)<<24|a.charCodeAt(s-1)<<16|32768;break;case 3:c=a.charCodeAt(s-3)<<24|a.charCodeAt(s-2)<<16|a.charCodeAt(s-1)<<8|128}for(t.push(c);t.length%16!==14;)t.push(0);for(t.push(s>>>29),t.push(s<<3&4294967295),b=0;b<t.length;b+=16){for(c=0;c<16;c++)m[c]=t[b+c];for(c=16;c<=79;c++)m[c]=k(m[c-3]^m[c-8]^m[c-14]^m[c-16],1);for(e=n,f=o,g=p,h=q,i=r,c=0;c<=19;c++)j=k(e,5)+(f&g|~f&h)+i+m[c]+1518500249&4294967295,i=h,h=g,g=k(f,30),f=e,e=j;for(c=20;c<=39;c++)j=k(e,5)+(f^g^h)+i+m[c]+1859775393&4294967295,i=h,h=g,g=k(f,30),f=e,e=j;for(c=40;c<=59;c++)j=k(e,5)+(f&g|f&h|g&h)+i+m[c]+2400959708&4294967295,i=h,h=g,g=k(f,30),f=e,e=j;for(c=60;c<=79;c++)j=k(e,5)+(f^g^h)+i+m[c]+3395469782&4294967295,i=h,h=g,g=k(f,30),f=e,e=j;n=n+e&4294967295,o=o+f&4294967295,p=p+g&4294967295,q=q+h&4294967295,r=r+i&4294967295}return j=l(n)+l(o)+l(p)+l(q)+l(r),j.toLowerCase()},template:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=arguments.length<=2||void 0===arguments[2]||arguments[2];return a.replace(/[{][{] ([\w._-]+) [}][}]/gim,function(a,d){var e=B.getProperty(d,b);return null!==e?e:c?"":a})},tick:function(a){c.setImmediate(a)},typeCheck:function(a,b){var c,d=arguments.length<=2||void 0===arguments[2]||arguments[2],e=b;if(c||B.isFunction(b)?c||a instanceof b||(c=new TypeError("The value passed must be an instance of "+("string"==typeof e?e:e.name)+".")):c=new SyntaxError('The "constructor" passed must be a function: '+b),c&&d)throw c;return!c}};d.default=B}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Element":30,"array-uniq":1,extend:2,"html-parse-stringify2":3,indexof:7,"is-function":9,"is-plain-object":10,"is-undefined":12,isarray:13,isobject:14,"node-qs-serialization":15,"url-regex":24}],45:[function(b,c,d){b("setimmediate");var e=b("./Dreditor"),f=a(e),g=b("./Attributes"),h=a(g),i=b("./Base"),j=a(i),k=b("./Diff"),l=a(k),m=b("./Element"),n=a(m),o=b("./Emitter"),p=a(o),q=b("./Event"),r=a(q),s=b("./File"),t=a(s),u=b("./Hunk"),v=a(u),w=b("./Line"),x=a(w),y=b("./LocaleBase"),z=a(y),A=b("./Parser"),B=a(A),C=b("./Patch"),D=a(C),E=b("./Proxy"),F=a(E),G=b("./Renderable"),H=a(G),I=b("./Url"),J=a(I),K=b("./Utility"),L=a(K);c.exports=function(a){return new f.default(a)},c.exports.__version__=f.default.__version__,c.exports.__defaultOptions__=f.default.__defaultOptions__,c.exports.Attributes=h.default,c.exports.Base=j.default,c.exports.Diff=l.default,c.exports.Dreditor=f.default,c.exports.Element=n.default,c.exports.Emitter=p.default,c.exports.Event=r.default,c.exports.File=t.default,c.exports.Hunk=v.default,c.exports.Line=x.default,c.exports.LocaleBase=z.default,c.exports.Parser=B.default,c.exports.Patch=D.default,c.exports.Proxy=F.default,c.exports.Renderable=H.default,c.exports.Url=J.default,c.exports.Utility=L.default},{"./Attributes":26,"./Base":27,"./Diff":28,"./Dreditor":29,"./Element":30,"./Emitter":31,"./Event":32,"./File":33,"./Hunk":34,"./Line":35,"./LocaleBase":36,"./Parser":37,"./Patch":38,"./Proxy":39,"./Renderable":40,"./Url":43,"./Utility":44,setimmediate:23}]},{},[45])(45)});